{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"about/","title":"Que es esto?","text":""},{"location":"about/#libreta-virtual-de-emas","title":"Libreta virtual de EMAS","text":"<p>\u00c9ste sitio web contiene gran parte de la documentaci\u00f3n de EMAS.  </p>"},{"location":"about/#donde-se-encuentra-esto","title":"Donde se encuentra esto?","text":"<p>Las p\u00e1ginas disponibles aqu\u00ed estan en un repositorio de GitHub servido al p\u00fablico a trav\u00e9s del servicio de GitHub Pages, con la gesti\u00f3n de dominio de Cloudflare.</p> <p>M\u00e1s informaci\u00f3n de ello en la secci\u00f3n de Cloudflare.</p>"},{"location":"cloudflare/","title":"Que es Cloudflare?","text":"<p>Cloudflare es una empresa de servicios de red que ofrece una gama de soluciones para mejorar el rendimiento y la seguridad de los sitios web, incluyendo CDN (Content Delivery Network), protecci\u00f3n contra ataques DDoS y firewall de aplicaciones web (WAF).  </p> <p>Su plataforma ayuda a optimizar la entrega de contenido y proteger las aplicaciones en l\u00ednea contra amenazas comunes en internet.  </p>"},{"location":"cloudflare/#como-utiliza-emas-cloudflare","title":"Como utiliza EMAS Cloudflare?","text":"<p>Actualmente la gesti\u00f3n de dominios principal se hace a trav\u00e9s de el propio registrador o la m\u00e1quina principal de Plesk activa en EMAS.  </p> <p>El dominio base gestionado por nuesto Cloudflare es emas-solutions.es con el cual se montan la mayor\u00eda de T\u00faneles o subdominios.</p> <p>Para usar un t\u00fanel son necesarios un dominio y una maquina destino, generalmente el dominio ya est\u00e1 listo y configurado en Cloudflare as\u00ed que no mostrare como hacer su configuraci\u00f3n en este documento.</p>"},{"location":"cloudflare/ssl_odoo/","title":"SSL Odoo + Cloudflare","text":"<p>Proceso SSL Odoo Cloudflare 1. Montado odoo16002 via Odoofy. $root: <code>/usr/bin/odoofy build odoo.json</code> 2. Montado tunnel cloudflare en maquina para direccionar 16002.xxx.es \u279d 127.0.0.1:16002 3. Instalar nginx  <code>sudo apt -y install nginx</code> <code>sudo nano /etc/nginx/sites-enabled/16002.___.es</code> 4. Nginx odoo proxy config <code>sudo nginx -t</code> (Test config) <code>systemctl restart nginx</code> 5. Odoo cert creation <code>sudo openssl genpkey -algorithm RSA -out /etc/ssl/private/odoo_cert_key.key -aes256</code> Odoo$443! <code>sudo openssl req -new -key /etc/ssl/private/odoo_cert_key.key -out /etc/ssl/certs/odoo_cert.csr</code> <code>openssl x509 -req -days 365 -in /etc/ssl/certs/odoo_cert.csr -signkey /etc/ssl/private/odoo_cert_key.key -out /etc/ssl/certs/certificate.crt</code> <code>sudo openssl rsa -in /etc/ssl/private/odoo_cert_key.key -out /etc/ssl/private/odoo_cert_pub.key</code></p>"},{"location":"cloudflare/ssl_odoo/#nginx-odoo-proxy-config","title":"Nginx odoo proxy config","text":"<pre><code>upstream odoo16 {\n    server 127.0.0.1:16002;\n}\n\nupstream odoochat {\n    server 127.0.0.1:16002;\n}\n\nserver {\n    listen 80;\n    server_name 16002.___.es;\n    return 301 https://$host$request_uri;\n}\n\nserver {\n    listen 443 ssl;\n    server_name 16002.___.es;\n    ssl_certificate /etc/ssl/certs/certificate.crt;\n    ssl_certificate_key /etc/ssl/private/odoo_cert_key.key;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:ECDHE-RSAAES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';\n    access_log /var/log/nginx/odoo.access.log;\n    error_log /var/log/nginx/odoo.error.log;\n    proxy_buffers 16 64k;\n    proxy_buffer_size 128k;\n\n    location / {\n        proxy_pass http://odoo16;\n        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;\n        proxy_redirect off;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto https;\n    }\n\n    location /longpolling {\n        proxy_pass http://odoochat;\n    }\n\n    location ~* /web/static/ {\n        proxy_cache_valid 200 60m;\n        proxy_buffering on;\n        expires 864000;\n        proxy_pass http://odoo16;\n    }\n}\n</code></pre>"},{"location":"cloudflare/tuneles/","title":"Que es un t\u00fanel?","text":"<p>Un t\u00fanel de Cloudflare es una conexi\u00f3n segura que permite enrutar el tr\u00e1fico de un servidor web a trav\u00e9s del domino especificado. Esto proporciona beneficios como mejoras en la seguridad, el rendimiento y la disponibilidad del sitio web de manera segura y extremadamente sencilla.</p>"},{"location":"cloudflare/tuneles/#quiero-un-nuevo-subdominio-disponible-como-creo-el-tunel","title":"Quiero un nuevo subdominio disponible, como creo el t\u00fanel?","text":"<p>\u00c9s posible que no necesites crear un t\u00fanel; cada m\u00e1quina o servidor que tenga servicios a publicar solo necesita un solo t\u00fanel (o ninguno*), ya que \u00e9ste va a crear nuestra salida de la maquina hacia la gesti\u00f3n de Cloudflare, desde la que se har\u00e1 la configuraci\u00f3n de todos servicios y dominios existentes.</p>"},{"location":"cloudflare/tuneles/#quiero-crear-solo-un-subdominio","title":"Quiero crear solo un subdominio","text":""},{"location":"cloudflare/tuneles/#la-maquina-tiene-un-tunel","title":"La m\u00e1quina tiene un t\u00fanel","text":"<p>Es posible que la m\u00e1quina en la que se pretende instalar el acceso Cloudflare ya disponga de un t\u00fanel instalado.  </p> <p>Si tenemos acceso SSH a la m\u00e1quina podemos comprobar la existencia de t\u00faneles en \u00e9sta:  </p> <p><code>cloudflared tunnel list</code></p> <p>En caso de que de que no haya t\u00faneles o no exista cloudflared podemos proceder igual ya que la m\u00e1quina est\u00e1 limpia.</p>"},{"location":"cloudflare/tuneles/#creacion-de-un-tunel-zero-trust","title":"Creaci\u00f3n de un t\u00fanel (Zero Trust)","text":"<p>Cuando sabemos que una maquina no tiene t\u00faneles el proceso de montaje de uno es muy sencillo:  </p> <p>Debemos ir al apartado de Zero Trust \u2192 Tunnels de la p\u00e1gina Dashboard de Cloudflare.   Una vez aqu\u00ed vamos a ver listados todos los t\u00faneles existentes enlazados a nuestra cuenta. La p\u00e1gina muestra una lista de t\u00faneles con:  </p> <ul> <li>El nombre del t\u00fanel  </li> <li>La URL o Direcci\u00f3n desde la que se accede al t\u00fanel  </li> <li>Su estado (Funcional o No)  </li> </ul> <p> Para crear un t\u00fanel en una m\u00e1quina en la que no exista ninguno le podemos dar a crear y copiar el script de instalado (seleccionar sistema operativo primero), \u00e9sto va a hacer el montaje solo; en cuanto finalize podremos ver el estado conectado al final de \u00e9sta p\u00e1gina.  </p>"},{"location":"cloudflare/tuneles/#annexo","title":"Annexo","text":""},{"location":"cloudflare/tuneles/#tunel-maestro","title":"T\u00fanel maestro","text":"<p>Proximamente...</p>"},{"location":"cloudflare/tuneles/basic_config/","title":"Crear subdominio","text":""},{"location":"cloudflare/tuneles/basic_config/#tiene-un-tunel-la-maquina-servidor","title":"Tiene un tunel la maquina servidor?","text":"<p>Debemos ir al apartado de Zero Trust \u2192 Tunnels de la p\u00e1gina Dashboard de Cloudflare.   Una vez aqu\u00ed vamos a ver listados todos los t\u00faneles existentes enlazados a nuestra cuenta. La p\u00e1gina muestra una lista de t\u00faneles con:  </p> <ul> <li>El nombre del t\u00fanel  </li> <li>La URL o Direcci\u00f3n desde la que se accede al t\u00fanel  </li> <li>Su estado (Funcional o No)  </li> </ul> <p>Si le damos a configurar un tunel (sabiendo a que maquina se dirige \u00e9ste), podemos ver, modificar y crear los subdominios que deseemos.  </p> <p>Configuraci\u00f3n:  En la secci\u00f3n de Public Hostname vamos a configurar como se relaciona el dominio de acceso con el puerto e IP de la m\u00e1quina destino. Si le damos click a nuevo vamos a ver la siguiente configuraci\u00f3n:  Aqu\u00ed hay 2 partes a tener en cuenta.</p>"},{"location":"cloudflare/tuneles/basic_config/#dominio","title":"Dominio","text":"<p>En las primeras 3 cajas vamos a determinar la configuraci\u00f3n de dominio. Imaginemos en este caso que el dominio desde el que queremos acceder al servicio que servira este tunel es tutorial_cloudflare.emas-solutions.es.  </p> <ul> <li><code>tutorial_cloudflare</code> va a ser el subdominio y deber\u00eda ser diferente para cada servicio</li> <li><code>emas_solutions.es</code> es nuestro dominio, que deber\u00e1 seleccionarse de los dominios existentes</li> <li>La parte de PATH la dejaremos vac\u00eda ya que normalmente se usa para sub- servicios.</li> </ul>"},{"location":"cloudflare/tuneles/basic_config/#servicio","title":"Servicio","text":"<p>En la parte de abajo habr\u00e1 la configuraci\u00f3n que sirve para conectar con el servicio deseado en la m\u00e1quina destino (servidor). En este ejemplo vamos a servir una app simple en la misma m\u00e1quina que expone el puerto 12345. Generalmente los servicios en local se acceden por HTTP, as\u00ed que eso es lo que pondremos: </p>"},{"location":"cloudflare/tuneles/basic_config/#resumen","title":"Resumen","text":"<p>La configuraci\u00f3n explicada consigue que desde el dominio tutorial_cloudflare.emas_solutions.es podamos acceder al servicio que se ejecuta en la m\u00e1quina por el puerto 12345 como si estuvi\u00e9ramos en esta.  </p> <p>Servido desde HTTPS por supuesto.  </p> <p>Entonces si desde la maquina ejecutamos localhost:12345 deberemos ver lo mismo que visitando el dominio especificado.</p>"},{"location":"cloudflare/tuneles/basic_config/#annexos","title":"Annexos","text":"<p>Normalmente las conexiones de los t\u00faneles son de HTTP a HTTPS, siendo as\u00ed solo encriptadas desde Cloudflare al p\u00fablico:  Si bien esto facilita mucho las cosas al no requerir ninguna configuraci\u00f3n ni montaje relacionada con los certificados; puede llegar a provocar alg\u00fan problema al tratar con servicios y conexiones m\u00e1s complejas como la integraci\u00f3n de Outlook mail de Microsoft.  </p> <p>Entonces en alg\u00fan caso se encripta con certificado la conexi\u00f3n a dos bandas: </p>"},{"location":"emas/docker_mssql/","title":"SQL Server Docker","text":"<p>Microsoft Sql Server es el proveedor de base de datos de Windows mas popular, por eso muchas aplicaciones empresariales est\u00e1n basadas en esta tecnolog\u00eda. En este documento se describe como instalar y configurar un servidor de base de datos SQL Server en un contenedor Docker.</p>"},{"location":"emas/docker_mssql/#por-que-usar-docker-para-sql-server","title":"Por qu\u00e9 usar Docker para SQL Server","text":"<p>Mientras que SQLServer es una excelente base de datos, su instalaci\u00f3n y configuraci\u00f3n puede ser complicada debido a su enfoque en m\u00e1quinas Windows. Docker permite instalar y configurar SQL Server en cualquier sistema operativo que soporte Docker, incluyendo Windows, Linux y MacOS.</p>"},{"location":"emas/docker_mssql/#requisitos","title":"Requisitos","text":"<ul> <li>Una maquina con una instalaci\u00f3n de Docker Engine v\u00e1lida.  </li> </ul>"},{"location":"emas/docker_mssql/#instalacion","title":"Instalaci\u00f3n","text":"<p>Asumiendo que ya tienes Docker instalado, procedemos a la configuraci\u00f3n de docker compose:</p> <pre><code>version: '3.8'\nservices:\n  sql1: # Nombre del contenedor\n    image: mcr.microsoft.com/mssql/server:2019-latest # Imagen de SQL Server\n    container_name: sql1 # Nombre del contenedor\n    hostname: sql1 # Nombre del host\n    environment:\n      - ACCEPT_EULA=Y # Acepta los t\u00e9rminos de uso\n      - MSSQL_SA_PASSWORD=D3v3#2021 # Contrase\u00f1a del usuario SA\n    ports:\n      - \"1433:1433\" # Puerto de SQL Server\n    volumes:\n      - sql1data:/var/opt/mssql # Volumen para persistir los datos\n    restart: unless-stopped # Reiniciar el contenedor al reiniciar sistema si no se detiene manualmente\n\nvolumes:\n  sql1data: # Volumen para persistir los datos\n</code></pre> <p>La parte mas importante es la MSSQL_SA_PASSWORD, que es la contrase\u00f1a del usuario \"a\". Aseg\u00farate de cambiarla por una contrase\u00f1a segura y de recordarla, ya que la necesitar\u00e1s para conectarte a la base de datos.</p> <p>Podemos cambiar el 2019 por otra versi\u00f3n de SQL Server.</p> <p>Guarda el archivo con el nombre <code>docker-compose.yml</code> y ejecuta el siguiente comando:</p> <pre><code>docker compose up -d\n</code></pre> <p>Despu\u00e9s de unos minutos, el contenedor de SQL Server deber\u00eda estar corriendo. Puedes verificarlo con el siguiente comando:</p> <pre><code>docker ps\n</code></pre>"},{"location":"emas/docker_mssql/#conexion-a-sql-server","title":"Conexi\u00f3n a SQL Server","text":"<p>Para conectarte a SQL Server, puedes usar cualquier cliente de SQL Server, como Azure Data Studio o SQL Server Management Studio. Tambi\u00e9n puedes usar la l\u00ednea de comandos con <code>sqlcmd</code>:</p> <pre><code>docker exec -it sql1 /opt/mssql-tools/bin/sqlcmd -S &lt;IP&gt; -U SA -P 'D3v3#2021'\n</code></pre> <p>Para conectar necesitamos acceso a la maquina en donde esta el servidor (si no es el mismo) y debemos utilizar su IP como nombre del servidor. Las credenciales son las que definimos en el archivo <code>docker-compose.yml</code>, con usuario SA.</p>"},{"location":"emas/estructura/","title":"Estructura de EMAS","text":""},{"location":"odoo/backups/","title":"Backups","text":""},{"location":"odoo/backups/#setup-mount-para-remote-backups","title":"Setup mount para remote backups","text":"<p>Actualmente el script de backups envia los archivos a la carpeta <code>/mnt/backups</code>. Esta carpeta es un mount del servidor de backups (sincronizaci\u00f3n de archivos).</p> <p>Para hacer el montaje seguimos los siguientes pasos:</p> <ol> <li><code>sudo nano /etc/fstab</code> Editamos el archivo fstab. Inserimos la siguiente l\u00ednea:</li> </ol> <p><code>//&lt;IP&gt;/BAK/&lt;RUTA&gt; /mnt/backups cifs vers=1.0,iocharset=utf8,file_mode=0777,dir_mode=0777,noperm,credentials=&lt;RUTA CREDENCIALES&gt; 0 0</code></p> <ul> <li>IP: Es la direcci\u00f3n IP del servidor de backups. Ej. <code>192.168.1.5</code></li> <li>RUTA: Es la ruta en el servidor de backups donde se guardaran los archivos. Ej. <code>emas/88-Proyectos/Backups</code> </li> <li> <p>RUTA CREDENCIALES: Es la ruta del archivo de credenciales. Ej. <code>/home/emas/.backup-credentials</code></p> </li> <li> <p>Creamos el archivo <code>.backup-credentials</code> en la ra\u00edz del usuario. I ponemos los credenciales del servidor de backup: <code>domain=EMASIT</code> <code>username=Developer</code> <code>password=D3v3#2021</code></p> </li> <li> <p>Aseguramos que la utilidad cifs esta instalada <code>sudo apt install cifs-utils</code>.</p> </li> <li>Montamos los drives con <code>sudo mount -a</code>.</li> </ul>"},{"location":"odoo/backups/#gestion-errores","title":"Gesti\u00f3n errores","text":"<p>Dependiendo del sistema operativo del servidor de backups, es posible que tengamos que cambiar el protocolo de montaje.</p> <p>Si el servidor de backups no es Windows, es posible que tengamos que cambiar <code>vers=1.0</code> por <code>vers=3.0</code>. (Tambi\u00e9n m\u00e1s seguro).</p> <p>Para comprobar la connexi\u00f3n a una carpeta compartida podemos utilizar el comando: <code>smbclient -L //&lt;IP&gt;/BAK -U &lt;(DOMINIO)/USUARIO&gt;</code>. Aqu\u00ed podemos comprobar si el servidor es accesible y si los credenciales son correctos. El dominio es opcional y solo necessario en Windows.</p>"},{"location":"odoo/backups/#tarea-programada","title":"Tarea programada","text":"<p>Con el comando: <code>crontab -e</code>; podemos modificar el archivo de tareas automaticas. A\u00f1adir la siguiente linia:</p> <pre><code>0 12 * * * &lt;ruta-al-proyecto&gt;/backup_script.sh\n</code></pre> <p>Cada l\u00ednia de este archivo a\u00f1ade una tarea que se ejecuta autom\u00e1ticamente en el tiempo que se le ha asignado.</p> <pre><code>.--------------- minuto (0-59)\n|  .------------ hora (0-23)\n|  |  .--------- d\u00eda del mes (1-31)\n|  |  |  .------ mes (1-12) o jan,feb,mar,apr,may,jun,jul... (meses en ingl\u00e9s)\n|  |  |  |  .--- d\u00eda de la semana (0-6) (domingo=0 o 7)\n|  |  |  |  |\n*  *  *  *  *  comando a ejecutar\n</code></pre>"},{"location":"odoo/backups/#script-de-backup","title":"Script de backup","text":"<pre><code>#!/bin/bash\n\n# Set variables\nbackup_dir=\"/mnt/backups\"\ndate_suffix=$(date +%Y%m%d%H%M%S)\ndeclare -A projects\n\n# Configure projects: project_name=\"master_pwd dbname backup_format\"\nprojects[Comatec-02]=\"odoo/17 odoo17 odoo17002 17002\"\nprojects[Emas-01]=\"odoo/16 admin odoo16101 16101\"\n\n# Ensure the backup directory exists and backup the databases\nfor project in \"${!projects[@]}\"; do\n    IFS=' ' read -r -a config &lt;&lt;&lt; \"${projects[$project]}\"\n    sub_path=${config[0]}\n    master_pwd=${config[1]}\n    dbname=${config[2]}\n    port=${config[3]}\n\n    main_path=\"$backup_dir/$sub_path/$project\"\n\n    mkdir -p $main_path\n\n    curl -X POST -F \"master_pwd=$master_pwd\" -F \"name=$dbname\" -F \"backup_format=$backup_format\" -o \"$main_path/$date_suffix.zip\" \"http://192.168.1.208:$port/web/database/backup\"\n\n    ls -dt \"$main_path/\"* | tail -n +15 | xargs rm -rf\ndone\n</code></pre> <p>En ruta, ponemos la ruta de la carpeta que CONTIENE la base de datos. En nombre, ponemos el nombre del proyecto (podemos poner subcarpetas para organizar mejor los backups EJ.<code>/proyecto/nombre_fecha</code>).</p>"},{"location":"odoo/odoofy/","title":"Gu\u00eda b\u00e1sica de Odoofy","text":"<p>La herramienta Odoofy permite crear un entorno de desarrollo para Odoo en una m\u00e1quina UNIX (Linux o MACOS, de momento no soporta Windows aunque puede instalarse en WSL). El ejecutable de Odoofy se puede descargar desde el siguiente enlace: Descargar Odoofy.</p>"},{"location":"odoo/odoofy/#funcionamiento-de-odoofy","title":"Funcionamiento de Odoofy","text":"<p>Odoofy consta de dos partes: la funci\u00f3n de servidor web para ejecutar comandos desde la p\u00e1gina https://odoofy.emas-solutions.es y la funci\u00f3n build que permite crear un entorno de desarrollo de Odoo. La pagina web de odoofy montara las instancias Odoo en la maquina en la que este preparada. </p> <p>Una vez se monte la instancia, se podra acceder a ella desde la ip de la m\u00e1quina y el puerto que se haya configurado. En estos momentos (11-01-2024) la web de odoofy esta en (192.168.1.207) desde la red de EMAS. </p> <p>Utilizaremos la funci\u00f3n build para el montaje r\u00e1pido de entornos, ya que montar un servidor web requiere de una configuraci\u00f3n m\u00e1s compleja.</p>"},{"location":"odoo/odoofy/#funcion-build","title":"Funci\u00f3n build","text":"<p>Una vez que se ha descargado el programa Odoofy en una m\u00e1quina, se puede ejecutar directamente:</p> <p><code>./odoofy -h</code> Esto mostrar\u00e1 informaci\u00f3n sobre la herramienta (esto asume que odoofy se encuentra en la misma carpeta en la que estamos).</p> <p>Si ejecutamos <code>./odoofy build</code> directamente, montar\u00e1 un entorno de desarrollo de Odoo en la m\u00e1quina en la que estamos, con la versi\u00f3n de Odoo 16 y el nombre/puerto 16000 (11/01/2024).</p> <p>Luego podemos acceder con <code>localhost:16000</code> o <code>ip:16000</code> si estamos en remoto, desde el navegador.</p> <p>Para cambiar la versi\u00f3n o configuraci\u00f3n de Odoo a montar, se puede utilizar un archivo como par\u00e1metro. Por ejemplo:</p> <p><code>./odoofy build configuracion.json</code>.</p> <p>Un ejemplo de la estrucura del archivo de configuraci\u00f3n es el siguiente:</p> <pre><code>{\n  \"version\": \"17\",\n  \"nombre_proyecto\": \"01\",\n  \"nombre_servidor\": \"localhost\",\n  \"idiomas\": [\n    \"es_ES\",\n    \"en_US\"\n  ],\n  \"enterprise\": true,\n  \"developer_mode\": true,\n  \"modules\": [\n    \"mail\"\n  ],\n  \"preprod\": false,\n}\n</code></pre> <p>Todos los par\u00e1metros son obligatorios, el orden no importa, pero el nombre de los par\u00e1metros s\u00ed, ya que son los que utiliza Odoofy para montar el entorno.</p>"},{"location":"odoo/odoofy/#cosas-a-tener-en-cuenta","title":"Cosas a tener en cuenta","text":"<ul> <li>La versi\u00f3n y el nombre del proyecto siempre deben tener 2 d\u00edgitos, por ejemplo: 16 y 02, ya que Odoofy utiliza estos valores para elegir el puerto a utilizar.</li> <li><code>enterprise: true</code> solo modificar\u00e1 el puerto y nombre de la base de datos, por ejemplo, de 16002 a 16102. Actualmente, si en la m\u00e1quina no existe ning\u00fan proyecto enterprise, este no ser\u00e1 de tipo enterprise.</li> <li>El modo desarrollador llena la base de datos con datos de prueba.</li> <li><code>preprod: true</code> no afecta a Odoo directamente, sino que elige puertos alternativos como 16202 para normal y 16302 para enterprise.</li> <li>Finalmente, los m\u00f3dulos son los que se instalar\u00e1n en el entorno. En la lista de <code>modules</code>, estos deben tener el nombre exacto que se muestra en su informaci\u00f3n. La funci\u00f3n no ha sido completamente probada con m\u00f3dulos de terceros y se recomienda esperar a instalarlos manualmente (mail viene por defecto).</li> </ul>"},{"location":"odoo/odoofy/#notas","title":"Notas","text":"<p>Estructura de carpetas de Odoofy:</p> <pre><code>/opt/odoo16/\n\u251c\u2500\u2500 addons\n\u251c\u2500\u2500 framework\n\u251c\u2500\u2500 projects\n\u2502   \u251c\u2500\u2500 01\n\u2502   \u251c\u2500\u2500 enterprise.conf\n\u2502   \u251c\u2500\u2500 enterprise.log\n\u2502   \u251c\u2500\u2500 enterprise.service\n\u2502   \u251c\u2500\u2500 odoo.conf\n\u2502   \u251c\u2500\u2500 odoo.log\n\u2502   \u251c\u2500\u2500 odoo.service\n\u2502   \u251c\u2500\u2500 addons\n\u2502   \u2502   \u251c\u2500\u2500 community\n\u2502   \u2502   \u251c\u2500\u2500 custom\n\u2502   \u2502   \u251c\u2500\u2500 private\n\u2502   \u2502   \u2514\u2500\u2500 public\n\u2502   \u251c\u2500\u2500 resources\n\u2502   \u2502   \u251c\u2500\u2500 geoip\n\u2502   \u2502   \u251c\u2500\u2500 screencasts\n\u2502   \u2502   \u2514\u2500\u2500 screenshots\n\u2502   \u2514\u2500\u2500 runtime\n\u2502       \u251c\u2500\u2500 enterprise\n\u2502       \u2514\u2500\u2500 odoo\n\u2514\u2500\u2500 venv\n</code></pre> <p>Desglose de los puertos utilizados por Odoofy:</p> <p>16022</p> <pre><code>16 = Versi\u00f3n de Odoo  \n0  = No es enterprise ni preproducci\u00f3n\n22 = N\u00famero de proyecto\n</code></pre> <p>Tabla de puertos utilizados por Odoofy:</p> Versi\u00f3n Enterprise Preproducci\u00f3n Puertos (web - data) 16 No No 16000 - 16500 16 S\u00ed No 16100 - 16600 16 No S\u00ed 16200 - 16700 16 S\u00ed S\u00ed 16302 - 16800"},{"location":"odoo/server_management/","title":"Gesti\u00f3n de servidores Odoo","text":""},{"location":"odoo/server_management/#odoo-services-setup-y-restarts","title":"Odoo services, setup y restarts","text":"<p>Estando en el servidor queremos listar los servicios existentes: <code>ls /etc/systemd/system</code> Esto nos mostrar\u00e0 todos los serviciones disponibles en la maquina.  </p> <p>Para ver el estado de un servicio: <code>systemctl status &lt;nombre del servicio&gt;</code> Para reiniciar un servicio: <code>systemctl restart &lt;nomre del servicio&gt;</code> </p> <p>Ejemplo: <code>systemctl restart odoo17001</code></p>"},{"location":"odoo/server_management/#ssh","title":"SSH","text":"<p>Para connectar al servidor que hostea nuestos servicios de Odoo utilizamos ssh.  </p> <p>Usando l\u00ednea de comandos ser\u00eda:  </p> <p><code>ssh &lt;ip&gt; -l &lt;usuario&gt;</code> </p> <p>Ejemplo: <code>ssh 192.168.1.207 -l root</code> </p> <p>Una herramienta muy \u00fatil es Termius. \u00c9sta nos guarda los servidores y sus credenciales para tenerlos siempre a disposici\u00f3n: </p>"}]}